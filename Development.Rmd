---
title: "Development"
output: html_notebook
---

```{r}
library(tidyverse)
```


```{r}
devtools::load_all()
```

```{r}
bottles2 <- bottles %>% mutate(weights=runif(nrow(bottles)))


huh <- "weights"
huh <- NULL



ifelse(is.null(huh), lm(Salnty ~ Depthm + O2Sat, data=bottles2),
       lm(Salnty ~ Depthm + O2Sat, data=bottles2, weights=get(huh)))

test <- lm(Salnty ~ Depthm + O2Sat, data=bottles2, weights=weights) %>% summary()
test2 <- lm(Salnty ~ Depthm + O2Sat, data=bottles2)

  
  
# TODO: FIX ERROR THROWN HERE
sca(y = "Salnty", x = "T_degC", controls = c("ChlorA", "O2Sat"),
     data = bottles, progressBar = TRUE, parallel = FALSE)

sca(y = "Salnty", x = "T_degC", controls = c("ChlorA*NO3uM", "O2Sat*NO3uM"),
    data = bottles, progressBar = TRUE, parallel = TRUE, workers = 2)

sca(y = "Salnty", x = "T_degC", controls = c("ChlorA", "O2Sat*NO3uM"),
   data = bottles, progressBar = TRUE, parallel = FALSE,
   returnFormulae = TRUE)
```

